<!DOCTYPE> 

<!--This enables anguluar js it is a directive-->
<!--A directive is a marker on a HTML tag that tell Angular to run or reference some JavaScript code -->
<!--This directive runs the module when the document loads. It will treat the html as part of the angluar app--> 
<!--It attaches the application module to the page-->
<html ng-app="otherApp"> 
		
	<head>
		<link rel="stylesheet" href="bootstrap/bootstrap.min.css">
		<link rel="stylesheet" href="bootstrap/style.css">
		<title>Art Naturals- Nature Discovery</title>
	</head>
	
	<body>
					
		<div ng-controller="ArtistsFromDatabase">
			
			<!-- the ng-controller="ArtistsFromDatabase" refers to our controller file.  -->
			<!-- anything in "ArtistsFromDatabase" can only be reached inside the div -->
			<!-- ng-controller attaches a controller function to the page. -->
			
			<div class="container question-one" ng-show="checkQuestionNumber(1)">
					
				<h1>Nature Discovery</h1>
				
				<select name="genreSelect" ng-model="chosenGenre" class= "dropdown" >
					<option value="All" >All</option>
					<option value="R&B">R&B </option>
					<option value="Country">Country</option>
					<option value="Metal">Metal</option>
					<option value="Tejano">Tejano</option>
					<option value="Blues">Blues</option>
				</select>
				
				
				<div> Do you have a mind or a body concern?</div>
				
				<button ng-click="switchQuestion(2,'mind')"> Mind </button>
				<button ng-click="switchQuestion(2,'body')"> Body </button>
				
				<div> Here is your body concern: {{bodyConcern}}</div>
				
				<br></br>
				<button ng-click="checkGenre(artistList)"> Random Music Artists</button>
				<br></br>
			
	
				
				<section ng-controller="PanelController as panel", ng-repeat="product in artistList | orderBy:'name'">
					
					
					
					<div ng-show="product.genreSelected">
						<ul class="nav nav-pills ">
							<li ng-class="{ active: panel.isSelected(1)}">
								<a href ng-click="panel.selectTab(1)">Description</a>
							</li>

							<li ng-class="{ active: panel.isSelected(2)}">
								<a href ng-click="panel.selectTab(2)">Reviews</a>
							</li>
						</ul>	
						
						<div class="panel" ng-show="panel.isSelected(1)">
					
							
								<h1> {{product.name}} </h1>
								<img class="image-big" ng-src="{{product.image}}"> 
								<h2> Debut: {{product.debut}} </h2>
								<h2> Genre: {{product.genre}} </h2>
								
								<h2>Description: {{product.description}}</h2>
						</div>
												
						<div class="panel" ng-show="panel.isSelected(2)">
							<h1> {{product.name}} </h1>
							<img class="image-big" ng-src="{{product.image}}"> 
							<h2>Reviews</h2>
								
							<blockquote ng-repeat="review in product.reviews">
								<div>
									<cite>Review by: {{review.author}}</cite>
								</div>
									
								<b>Stars: {{review.stars}}</b>
									
								<div>{{review.body}}</div>
																				
							</blockquote>
								
								<form name="reviewForm" ng-controller="ReviewController as reviewCtrl" ng-submit= "reviewForm.$valid && reviewCtrl.addReview(product)" novalidate>
									<h2>Review Form</h2>
									<!--when the form is submitted, if value is false, add review will never get called, only if value is true would the second part of the expression be evaluated and add review get called.-->
									<input ng-model="reviewCtrl.review.author" type="email" placeholder="Enter your email" required />																   
									
									<select ng-model="reviewCtrl.review.stars" required>
										<option value="1">1 star</option>
										<option value="2">2 stars</option>
										<option value="3">3 stars</option>
										<option value="4">4 stars</option>
										<option value="5">5 stars</option>
									</select>
									<br></br>
									<textarea rows="4" cols="50" ng-model="reviewCtrl.review.body" placeholder="Type Review" required></textarea>
																	
									<input type="submit" value="Submit"/>
									
									<h4>Review Preview</h4>
									<blockquote>
										<div>
											<cite>Review by: {{reviewCtrl.review.author}}</cite>
										</div>
										<b>Stars: {{reviewCtrl.review.stars}}</b>
									
										<div>{{reviewCtrl.review.body}} </div>
																			
									</blockquote>
								
								</form>
						</div>
					
						<br>
					</div>
				</section>	
					
			</div>
			
			
			
			<div class="container question-two" ng-show="checkQuestionNumber(2)">
				<p>the april sun and your {{bodyConcern}}</p>
				
				<p>the april sun and your {{bodyConcern}}</p>
				<p>the april sun and your {{bodyConcern}}</p>
				<p>the april sun and your {{bodyConcern}}</p>
				
				
				<button ng-click="switchQuestion(1)"> back </button>
				<button ng-click="switchQuestion(3)"> forward </button>
				
							
			</div>
			
			<div class="container question-three" ng-show="checkQuestionNumber(3)">
				<p>Product Page</p>
												
				<button ng-click="switchQuestion(2)"> back </button>
										
			</div>
			
			
			
			
		

		
		</div>
		
			
	
				
	</body>
	
	<script src="angular/angular.js"></script>
	<!-- this connects the controllers with the index.-->
	<script src="controllers/more.js"></script>	


</html>